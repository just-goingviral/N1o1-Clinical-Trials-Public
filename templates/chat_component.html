
<!-- 
    LEGACY CHAT COMPONENT - DEPRECATED
    The N1O1ai assistant is now integrated in base.html.
    This template remains only for backwards compatibility.
    If included, it will automatically connect to the main chat interface.
-->

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // If this component is included, redirect all legacy chat buttons
        // to the main NO molecule chat in base.html
        
        // Find the main NO molecule chat button
        const noMoleculeButton = document.getElementById('no-molecule-chat-button');
        
        // If found, create a function to click it
        if (noMoleculeButton) {
            window.openN1O1Chat = function() {
                noMoleculeButton.click();
            };
            
            // Add a global event listener for any legacy chat buttons
            document.addEventListener('click', function(e) {
                // Elements with these specific IDs or classes should trigger the chat
                const CHAT_SELECTORS = [
                    '#chatToggleBtn', 
                    '#indexChatBtn', 
                    '#openChatBtn', 
                    '.chat-toggle-button',
                    '[data-action="open-chat"]'
                ];
                
                const clickedElement = e.target.closest(CHAT_SELECTORS.join(','));
                if (clickedElement && clickedElement.id !== 'no-molecule-chat-button') {
                    e.preventDefault();
                    e.stopPropagation();
                    window.openN1O1Chat();
                    return false;
                }
            }, true);
            
            // Call once on load to ensure proper initialization
            console.log('N1O1 Chat: Legacy component connected to main interface');
        }
    });
</script>
